import{b as T,e as R}from"./element-plus-BSjV1f9S.js";import{b as B}from"./vendor-Dr8jvgFu.js";import{_ as D,f as l}from"./index-DWpLWt5S.js";import{c as w,I as N,y as $,J as x,z as t,P as s,u as i,R as F,O as M}from"./vue-vendor-DV7DYXbz.js";const V={class:"flex items-center justify-between"},Y={class:"text-lg font-bold text-gray-900 dark:text-gray-100"},E={class:"space-y-4"},H={class:"grid gap-3 md:grid-cols-2"},I={class:"rounded-lg border border-gray-200 bg-gray-50 p-4 dark:border-gray-800 dark:bg-gray-900"},O={class:"space-y-2 text-sm text-gray-700 dark:text-gray-300"},z={class:"flex items-center justify-between"},J={class:"font-medium"},P={class:"flex items-center justify-between"},S={class:"font-medium"},q={class:"flex items-center justify-between"},A={class:"font-medium"},G={class:"flex items-center justify-between"},K={class:"font-medium"},L={class:"rounded-lg border border-gray-200 bg-gray-50 p-4 dark:border-gray-800 dark:bg-gray-900"},Q={class:"space-y-2 text-sm text-gray-700 dark:text-gray-300"},U={class:"flex items-center justify-between"},W={class:"font-semibold text-blue-600 dark:text-blue-400"},X={class:"flex items-center justify-between"},Z={class:"font-semibold text-green-600 dark:text-green-400"},tt={class:"flex items-center justify-between"},et={class:"font-semibold text-purple-600 dark:text-purple-400"},st={class:"flex items-center justify-between"},at={class:"font-semibold text-orange-600 dark:text-orange-400"},rt={class:"flex items-center justify-between"},ot={class:"font-semibold text-gray-900 dark:text-gray-100"},dt={class:"rounded-lg border border-gray-200 bg-white p-4 dark:border-gray-800 dark:bg-gray-900"},nt={class:"grid gap-3 sm:grid-cols-2"},lt={class:"flex items-center justify-between rounded-md bg-gray-50 px-3 py-2 dark:bg-gray-800"},it={class:"text-sm font-semibold text-gray-900 dark:text-gray-100"},ct={class:"flex items-center justify-between rounded-md bg-gray-50 px-3 py-2 dark:bg-gray-800"},yt={class:"text-sm font-semibold text-gray-900 dark:text-gray-100"},gt={class:"flex items-center justify-between rounded-md bg-gray-50 px-3 py-2 dark:bg-gray-800"},xt={class:"text-sm font-semibold text-gray-900 dark:text-gray-100"},mt={class:"flex items-center justify-between rounded-md bg-gray-50 px-3 py-2 dark:bg-gray-800"},ut={class:"text-sm font-semibold text-gray-900 dark:text-gray-100"},ft={class:"mt-4 flex items-center justify-between rounded-md border border-gray-200 bg-gray-50 px-4 py-3 dark:border-gray-800 dark:bg-gray-800"},bt={class:"text-base font-bold text-yellow-600 dark:text-yellow-400"},pt={class:"flex justify-end"},kt={__name:"RecordDetailModal",props:{show:{type:Boolean,default:!1},record:{type:Object,default:()=>({})}},emits:["close"],setup(a,{emit:h}){const c=a,j=h,m=()=>j("close"),C=w(()=>{var r;return(r=c.record)!=null&&r.timestamp?B(c.record.timestamp).format("YYYY-MM-DD HH:mm:ss"):"未知时间"}),n=w(()=>{var y,g;const r=((y=c.record)==null?void 0:y.realCostBreakdown)||((g=c.record)==null?void 0:g.costBreakdown)||{},e=o=>{const d=typeof o=="number"?o:0;return d>=1?`$${d.toFixed(2)}`:d>=.001?`$${d.toFixed(4)}`:`$${d.toFixed(6)}`};return{input:e(r.input),output:e(r.output),cacheCreate:e(r.cacheCreate),cacheRead:e(r.cacheRead),total:e(r.total)}});return(r,e)=>{const y=T,g=R;return $(),N(g,{"append-to-body":!0,class:"record-detail-modal","close-on-click-modal":!1,"destroy-on-close":!0,"model-value":a.show,"show-close":!1,top:"10vh",width:"720px",onClose:m},{header:x(()=>{var o;return[t("div",V,[t("div",null,[e[0]||(e[0]=t("p",{class:"text-xs font-medium uppercase tracking-wide text-gray-500 dark:text-gray-400"}," 请求详情 ",-1)),t("p",Y,s(((o=a.record)==null?void 0:o.model)||"未知模型"),1)]),t("button",{"aria-label":"关闭",class:"rounded-full p-2 text-gray-500 transition hover:bg-gray-100 hover:text-gray-700 dark:text-gray-300 dark:hover:bg-gray-800 dark:hover:text-gray-100",onClick:m},e[1]||(e[1]=[t("i",{class:"fas fa-times"},null,-1)]))])]}),footer:x(()=>[t("div",pt,[F(y,{type:"primary",onClick:m},{default:x(()=>e[19]||(e[19]=[M("关闭",-1)])),_:1,__:[19]})])]),default:x(()=>{var o,d,u,f,b,p,k,_,v;return[t("div",E,[t("div",H,[t("div",I,[e[6]||(e[6]=t("h4",{class:"mb-3 text-sm font-semibold text-gray-800 dark:text-gray-200"},"基本信息",-1)),t("ul",O,[t("li",z,[e[2]||(e[2]=t("span",{class:"text-gray-500 dark:text-gray-400"},"时间",-1)),t("span",J,s(C.value),1)]),t("li",P,[e[3]||(e[3]=t("span",{class:"text-gray-500 dark:text-gray-400"},"模型",-1)),t("span",S,s(((o=a.record)==null?void 0:o.model)||"未知模型"),1)]),t("li",q,[e[4]||(e[4]=t("span",{class:"text-gray-500 dark:text-gray-400"},"账户",-1)),t("span",A,s(((d=a.record)==null?void 0:d.accountName)||"未知账户"),1)]),t("li",G,[e[5]||(e[5]=t("span",{class:"text-gray-500 dark:text-gray-400"},"渠道",-1)),t("span",K,s(((u=a.record)==null?void 0:u.accountTypeName)||"未知渠道"),1)])])]),t("div",L,[e[12]||(e[12]=t("h4",{class:"mb-3 text-sm font-semibold text-gray-800 dark:text-gray-200"},"Token 使用",-1)),t("ul",Q,[t("li",U,[e[7]||(e[7]=t("span",{class:"text-gray-500 dark:text-gray-400"},"输入 Token",-1)),t("span",W,s(i(l)((f=a.record)==null?void 0:f.inputTokens)),1)]),t("li",X,[e[8]||(e[8]=t("span",{class:"text-gray-500 dark:text-gray-400"},"输出 Token",-1)),t("span",Z,s(i(l)((b=a.record)==null?void 0:b.outputTokens)),1)]),t("li",tt,[e[9]||(e[9]=t("span",{class:"text-gray-500 dark:text-gray-400"},"缓存创建",-1)),t("span",et,s(i(l)((p=a.record)==null?void 0:p.cacheCreateTokens)),1)]),t("li",st,[e[10]||(e[10]=t("span",{class:"text-gray-500 dark:text-gray-400"},"缓存读取",-1)),t("span",at,s(i(l)((k=a.record)==null?void 0:k.cacheReadTokens)),1)]),t("li",rt,[e[11]||(e[11]=t("span",{class:"text-gray-500 dark:text-gray-400"},"总计",-1)),t("span",ot,s(i(l)((_=a.record)==null?void 0:_.totalTokens)),1)])])])]),t("div",dt,[e[18]||(e[18]=t("h4",{class:"mb-3 text-sm font-semibold text-gray-800 dark:text-gray-200"},"费用详情",-1)),t("div",nt,[t("div",lt,[e[13]||(e[13]=t("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"输入费用",-1)),t("span",it,s(n.value.input),1)]),t("div",ct,[e[14]||(e[14]=t("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"输出费用",-1)),t("span",yt,s(n.value.output),1)]),t("div",gt,[e[15]||(e[15]=t("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"缓存创建",-1)),t("span",xt,s(n.value.cacheCreate),1)]),t("div",mt,[e[16]||(e[16]=t("span",{class:"text-sm text-gray-500 dark:text-gray-400"},"缓存读取",-1)),t("span",ut,s(n.value.cacheRead),1)])]),t("div",ft,[e[17]||(e[17]=t("span",{class:"text-sm font-semibold text-gray-700 dark:text-gray-200"},"总费用",-1)),t("div",bt,s(((v=a.record)==null?void 0:v.costFormatted)||n.value.total),1)])])])]}),_:1},8,["model-value"])}}},jt=D(kt,[["__scopeId","data-v-8a7345f4"]]);export{jt as R};
